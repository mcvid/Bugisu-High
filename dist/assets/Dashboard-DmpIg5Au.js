import{r as l,j as e,U as g,M as u,F as j,C as x,L as r,s as i}from"./index-BwtYp3Ig.js";import{A as b}from"./alert-circle-CpX1JfdG.js";import{M as f}from"./megaphone-Bcz04vCF.js";const A=()=>{const[t,p]=l.useState({pendingApps:0,pendingInquiries:0,unreadMessages:0,totalNews:0,upcomingEvents:0}),[y,m]=l.useState(!0);l.useEffect(()=>{(async()=>{m(!0);try{const[a,o,c,n,s]=await Promise.all([i.from("admission_applications").select("*",{count:"exact",head:!0}).eq("status","pending"),i.from("admissions_inquiries").select("*",{count:"exact",head:!0}).eq("status","pending"),i.from("contact_messages").select("*",{count:"exact",head:!0}).eq("status","Unread"),i.from("news_articles").select("*",{count:"exact",head:!0}),i.from("events").select("*",{count:"exact",head:!0}).gte("event_date",new Date().toISOString())]);p({pendingApps:a.count||0,pendingInquiries:o.count||0,unreadMessages:c.count||0,totalNews:n.count||0,upcomingEvents:s.count||0})}catch(a){console.error("Error fetching dashboard stats:",a)}finally{m(!1)}})()},[]);const d=({title:h,count:a,icon:o,path:c,color:n})=>e.jsx(r,{to:c,style:{textDecoration:"none"},children:e.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"1.5rem",border:"1px solid rgba(0,0,0,0.06)",transition:"all 0.3s ease",cursor:"pointer",position:"relative",overflow:"hidden"},className:"dashboard-action-card",onMouseEnter:s=>{s.currentTarget.style.transform="translateY(-4px)",s.currentTarget.style.borderColor=n,s.currentTarget.style.boxShadow=`0 8px 24px ${n}15`},onMouseLeave:s=>{s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.borderColor="rgba(0,0,0,0.06)",s.currentTarget.style.boxShadow="none"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"14px",background:`${n}10`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.25rem",color:n},children:o}),e.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#64748b",marginBottom:"0.5rem"},children:h}),e.jsx("p",{style:{fontSize:"2.25rem",fontWeight:"800",color:"#1e293b",margin:0,lineHeight:1},children:a})]}),a>0&&e.jsx("span",{style:{background:n,color:"white",padding:"0.35rem 0.75rem",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"700",letterSpacing:"0.5px"},children:"NEW"})]})})});return e.jsxs("div",{className:"dashboard-page admin-fade-in",children:[e.jsxs("header",{className:"dashboard-header",children:[e.jsx("h1",{children:"Admin Dashboard"}),e.jsx("p",{children:"Welcome back! Here's what needs your attention today."})]}),e.jsxs("div",{className:"dashboard-section",children:[e.jsxs("h2",{className:"section-title text-danger",children:[e.jsx(b,{size:20})," Pending Actions"]}),e.jsxs("div",{className:"admin-grid admin-grid-3",children:[e.jsx(d,{title:"New Admissions",count:t.pendingApps,icon:e.jsx(g,{size:28}),path:"/admin/admissions",color:"#2563eb"}),e.jsx(d,{title:"Admissions Inquiries",count:t.pendingInquiries,icon:e.jsx(u,{size:28}),path:"/admin/admissions",color:"#f59e0b"}),e.jsx(d,{title:"Unread Messages",count:t.unreadMessages,icon:e.jsx(v,{size:28}),path:"/admin/contact",color:"#10b981"})]})]}),e.jsxs("div",{className:"dashboard-section",children:[e.jsx("h2",{className:"section-title",children:"Site Overview"}),e.jsxs("div",{className:"admin-grid admin-grid-2",children:[e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-header",children:[e.jsx(j,{size:20}),e.jsx("span",{children:"News Articles"})]}),e.jsx("p",{className:"stat-value",children:t.totalNews})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-header",children:[e.jsx(x,{size:20}),e.jsx("span",{children:"Upcoming Events"})]}),e.jsx("p",{className:"stat-value",children:t.upcomingEvents})]})]})]}),e.jsxs("div",{className:"dashboard-quick-actions",children:[e.jsx("h2",{className:"section-title",children:"Quick Actions"}),e.jsxs("div",{className:"btn-group",children:[e.jsxs(r,{to:"/admin/news",className:"btn btn-primary btn-admin",children:[e.jsx(N,{size:18})," Post News"]}),e.jsxs(r,{to:"/admin/events",className:"btn btn-outline btn-admin",children:[e.jsx(x,{size:18})," Add Event"]}),e.jsxs(r,{to:"/admin/announcements",className:"btn btn-outline btn-admin",children:[e.jsx(f,{size:18})," New Announcement"]})]})]})]})},v=({size:t})=>e.jsx(u,{size:t}),N=({size:t})=>e.jsx("div",{style:{fontSize:"1.5rem",lineHeight:"1"},children:"+"});export{A as default};
