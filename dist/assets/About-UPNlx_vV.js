import{u as v,r as d,j as e,s as p}from"./index-BwtYp3Ig.js";import{c as j}from"./cache-BThuL7vy.js";import{S as f}from"./SEO-R--Uy0Ut.js";import{U as N}from"./UniversalHero-CjYEDUY6.js";import{O as h}from"./OptimizedImage-5pKiP7HU.js";import"./useQueries-BG_ckdWW.js";import"./chevron-left-CZWBpdEq.js";const I=()=>{const{t:s}=v(["about","common"]),[n,m]=d.useState([]),[l,u]=d.useState([]),[x,o]=d.useState(!0),[t,g]=d.useState(null);return d.useEffect(()=>{(async()=>{try{const i=j.get("about_page_data");if(i){m(i.administration),u(i.teachers),o(!1);return}o(!0);const[c,r]=await Promise.all([p.from("administration").select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0}),p.from("teachers").select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0})]);c.data&&m(c.data),r.data&&u(r.data),j.set("about_page_data",{administration:c.data||[],teachers:r.data||[]})}catch(i){console.error("Error fetching data:",i)}finally{o(!1)}})()},[]),d.useEffect(()=>{if(n.length===0&&l.length===0)return;const a=new IntersectionObserver(c=>{c.forEach(r=>{r.isIntersecting&&g(r.target.getAttribute("data-id"))})},{threshold:.7,rootMargin:"-10% 0px -10% 0px"});return document.querySelectorAll(".leader-card, .about-card, .value-item, .teacher-card").forEach(c=>a.observe(c)),()=>a.disconnect()},[n,l]),e.jsxs("div",{className:"about-page",children:[e.jsx(f,{title:s("nav.about"),description:"Discover the heritage, mission, and leadership of Bugisu High School. Founded on principles of Excellence, Integrity, and Service to nurture the leaders of tomorrow in Mbale, Uganda.",url:"/about"}),e.jsx(N,{pagePath:"/about",height:"50vh",children:e.jsxs("div",{className:"center-hero",children:[e.jsxs("h1",{children:[e.jsx("span",{className:"desktop-title",children:s("hero_title")}),e.jsx("span",{className:"mobile-title",children:s("hero_title_mobile")})]}),e.jsx("p",{className:"lead",children:s("hero_desc")})]})}),e.jsxs("div",{className:"container",children:[e.jsx("section",{className:"about-section",children:e.jsxs("div",{className:"history-split",children:[e.jsxs("div",{className:"history-text",children:[e.jsxs("div",{className:"about-section-header",children:[e.jsx("h2",{children:s("foundation_title")}),e.jsx("p",{children:s("foundation_desc")})]}),e.jsx("div",{className:"history-content",children:e.jsx("p",{children:s("history_text")})})]}),e.jsx("div",{className:"history-image-container",children:e.jsx(h,{src:"https://images.unsplash.com/photo-1523050853063-bd80e295ce7f?q=80&w=1000&auto=format&fit=crop",alt:"Our Campus",aspectRatio:"4/3"})})]})}),e.jsxs("section",{className:"about-section",children:[e.jsxs("div",{className:"about-grid",children:[e.jsxs("div",{className:`about-card ${t==="mission"?"focused":""}`,"data-id":"mission",children:[e.jsx("div",{className:"card-image-mini",children:e.jsx(h,{src:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=1000&auto=format&fit=crop",alt:"Mission",aspectRatio:"16/9"})}),e.jsx("h3",{children:s("mission_title")}),e.jsx("p",{children:s("mission_desc")})]}),e.jsxs("div",{className:`about-card ${t==="vision"?"focused":""}`,"data-id":"vision",children:[e.jsx("div",{className:"card-image-mini",children:e.jsx(h,{src:"https://images.unsplash.com/photo-1497633762265-9a177c80b0f2?q=80&w=1000&auto=format&fit=crop",alt:"Vision",aspectRatio:"16/9"})}),e.jsx("h3",{children:s("vision_title")}),e.jsx("p",{children:s("vision_desc")})]})]}),e.jsxs("div",{className:"values-section",children:[e.jsx("h3",{children:s("values_title")}),e.jsxs("div",{className:"values-list",children:[e.jsxs("div",{className:`value-item ${t==="v-excellence"?"focused":""}`,"data-id":"v-excellence",children:[e.jsx("h4",{children:s("values.excellence_title")}),e.jsx("p",{children:s("values.excellence_desc")})]}),e.jsxs("div",{className:`value-item ${t==="v-integrity"?"focused":""}`,"data-id":"v-integrity",children:[e.jsx("h4",{children:s("values.integrity_title")}),e.jsx("p",{children:s("values.integrity_desc")})]}),e.jsxs("div",{className:`value-item ${t==="v-discipline"?"focused":""}`,"data-id":"v-discipline",children:[e.jsx("h4",{children:s("values.discipline_title")}),e.jsx("p",{children:s("values.discipline_desc")})]}),e.jsxs("div",{className:`value-item ${t==="v-community"?"focused":""}`,"data-id":"v-community",children:[e.jsx("h4",{children:s("values.community_title")}),e.jsx("p",{children:s("values.community_desc")})]})]})]})]}),e.jsxs("section",{className:"about-section",children:[e.jsxs("div",{className:"about-section-header",children:[e.jsx("h2",{children:s("leadership_title")}),e.jsx("p",{children:s("leadership_desc")})]}),x?e.jsx("div",{className:"leadership-grid",children:Array(3).fill(0).map((a,i)=>e.jsx("div",{className:"skeleton-card",style:{height:"300px",background:"#f3f4f6",borderRadius:"12px"}},i))}):e.jsx("div",{className:"leadership-grid",children:n.map(a=>e.jsxs("div",{className:`leader-card ${t===a.id.toString()?"focused":""}`,"data-id":a.id,children:[e.jsx("span",{className:"leader-role",children:a.role}),e.jsx("h3",{children:a.name}),a.image_url?e.jsx("img",{src:a.image_url,alt:a.name,loading:"lazy",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"8px",marginBottom:"1rem"},onError:i=>{i.target.src="https://images.unsplash.com/photo-1544531696-2822a09966ce?auto=format&fit=crop&q=80&w=400"}}):e.jsx("div",{style:{width:"100%",height:"200px",background:"#f3f4f6",borderRadius:"8px",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:s("common.no_image")||"No Image"}),e.jsx("p",{className:"leader-bio",children:"Dedicated to academic excellence and nurturing the future leaders of Uganda through holistic education and strong moral values."})]},a.id))})]}),e.jsxs("section",{className:"about-section mt-16",children:[e.jsxs("div",{className:"about-section-header",children:[e.jsx("h2",{children:s("team_title")}),e.jsx("p",{children:s("team_desc")})]}),x?e.jsx("div",{className:"teachers-grid",children:Array(4).fill(0).map((a,i)=>e.jsx("div",{className:"skeleton-card",style:{height:"350px",background:"#f3f4f6",borderRadius:"12px"}},i))}):l.length===0?e.jsx("p",{className:"empty-text",children:s("teachers_coming_soon")}):e.jsx("div",{className:"teachers-grid",children:l.map(a=>e.jsxs("div",{className:"teacher-card","data-id":a.id,children:[e.jsx("div",{className:"teacher-image-container",children:e.jsx("img",{src:a.image_url,alt:a.name,loading:"lazy",onError:i=>{i.target.src="https://images.unsplash.com/photo-1544531696-2822a09966ce?auto=format&fit=crop&q=80&w=400"}})}),e.jsxs("div",{className:"teacher-info",children:[e.jsx("h3",{children:a.name}),e.jsx("p",{className:"teacher-subject",children:a.subject})]})]},a.id))})]})]})]})};export{I as default};
