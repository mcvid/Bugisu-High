import{b as f,r as h,j as e,a as b}from"./index-EH-KDdP-.js";import{e as y}from"./useQueries-CzAEryra.js";import{C as S}from"./chevron-left-GT57DOTz.js";const k=({pagePath:m,children:n,height:i="60vh",showImage:c=!0})=>{const{school:N}=f(),{data:r=[],isLoading:x}=y(m),[d,o]=h.useState(0),v=[{id:"fb-1",title:"BUGISU HIGH SCHOOL",subtitle:"Excellence, Integrity, and Service"}],s=r&&r.length>0?r:v;x&&(!r||r.length),h.useEffect(()=>{if(s.length<=1)return;const t=setInterval(()=>{o(l=>(l+1)%s.length)},6e3);return()=>clearInterval(t)},[s.length]);const g=()=>o(t=>(t+1)%s.length),p=()=>o(t=>(t-1+s.length)%s.length),j={height:i,minHeight:i};return e.jsxs("section",{className:`hero-carousel ${c?"":"no-bg-image"}`,style:j,children:[s.map((t,l)=>{const a=l===d,u={display:a?"flex":"none",height:i};return c&&(u.backgroundImage=`url("${t.image_url}")`),e.jsxs("div",{className:`hero-slide ${a?"active":""}`,style:u,children:[c&&t.video_url&&a&&e.jsx("video",{className:"hero-video",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1},children:e.jsx("source",{src:t.video_url,type:"video/mp4"})}),e.jsx("div",{className:"hero-content",style:{zIndex:10},children:n?typeof n=="function"?n({slide:t,isActive:a}):n:e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"hero-small-title",children:t.title}),e.jsx("h1",{className:"hero-big-title",children:t.subtitle})]})})]},t.id)}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"carousel-arrow left",onClick:p,"aria-label":"Previous slide",children:e.jsx(S,{size:32})}),e.jsx("button",{className:"carousel-arrow right",onClick:g,"aria-label":"Next slide",children:e.jsx(b,{size:32})}),e.jsx("div",{className:"carousel-dots",children:s.map((t,l)=>e.jsx("span",{className:`dot ${l===d?"active":""}`,onClick:()=>o(l)},l))})]})]})};export{k as U};
