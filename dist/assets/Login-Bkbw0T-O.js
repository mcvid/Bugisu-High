import{r as a,H as f,N as j,j as s,s as b}from"./index-DqW8wV2_.js";import{E as v}from"./eye-off-CNuGiTio.js";import{E as N}from"./eye-B9tOmhm2.js";const L=()=>{const[i,g]=a.useState(""),[o,p]=a.useState(""),[n,l]=a.useState(!1),[d,c]=a.useState(null),[t,x]=a.useState(!1),r=f(),u=j();a.useEffect(()=>{var e;(e=u.state)!=null&&e.secretAccess||r("/",{replace:!0})},[u,r]);const w=async e=>{e.preventDefault(),l(!0),c(null);try{const{data:m,error:h}=await b.auth.signInWithPassword({email:i,password:o});if(h)throw h;r("/admin/dashboard")}catch(m){c(m.message)}finally{l(!1)}};return s.jsx("div",{className:"login-container",children:s.jsxs("div",{className:"login-card",children:[s.jsx("h1",{className:"login-title",children:"Admin Login"}),s.jsx("p",{className:"login-subtitle",children:"Sign in to manage the school website"}),d&&s.jsx("div",{className:"login-error",children:d}),s.jsxs("form",{onSubmit:w,className:"login-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"email",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",value:i,onChange:e=>g(e.target.value),placeholder:"admin@bugisuhigh.ac.ug",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"password-input-wrapper",children:[s.jsx("input",{type:t?"text":"password",id:"password",value:o,onChange:e=>p(e.target.value),placeholder:"••••••••",required:!0}),s.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>x(!t),"aria-label":t?"Hide password":"Show password",children:t?s.jsx(v,{size:20}):s.jsx(N,{size:20})})]})]}),s.jsx("button",{type:"submit",className:"login-btn",disabled:n,children:n?"Signing in...":"Sign In"})]})]})})};export{L as default};
