import{c as S,r as c,s as d,j as s,C as b,U as k,a as D,X as C}from"./index-EH-KDdP-.js";import{T}from"./trophy-Cli_CM0P.js";import{M}from"./map-pin-DeFOtuOP.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=S("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),B=()=>{var x,p;const[j,N]=c.useState([]),[o,u]=c.useState([]),[a,v]=c.useState(null),[i,r]=c.useState(null),[m,g]=c.useState([]),[y,h]=c.useState(!1);c.useEffect(()=>{_()},[]);const _=async()=>{const{data:e}=await d.from("sports_teams").select("*").order("name");N(e||[]);const{data:t}=await d.from("matches").select("*, sports_teams(name, sport)").order("match_date",{ascending:!1});if(t){u(t);const l=t.filter(n=>new Date(n.match_date)>new Date&&n.status==="scheduled").sort((n,w)=>new Date(n.match_date)-new Date(w.match_date))[0];v(l)}},f=async e=>{r(e),h(!0);const{data:t}=await d.from("team_members").select("*").eq("team_id",e.id).order("name");g(t||[]),h(!1)};return s.jsxs("div",{className:"sports-page",children:[s.jsxs("div",{className:"sports-hero",children:[s.jsx("div",{className:"overlay"}),s.jsxs("div",{className:"hero-content container",children:[s.jsxs("span",{className:"hero-badge",children:[s.jsx(T,{size:16})," Bugisu High Sports"]}),s.jsx("h1",{children:"Champions in the Making"}),s.jsx("p",{children:"Experience the passion, dedication, and spirit of our student athletes."})]})]}),s.jsxs("div",{className:"container main-content",children:[s.jsxs("div",{className:"match-center-grid",children:[s.jsxs("div",{className:"next-match-card",children:[s.jsx("h3",{children:"Match Center"}),a?s.jsxs("div",{className:"match-preview",children:[s.jsxs("div",{className:"match-meta",children:[s.jsx("span",{className:"sport-tag",children:(x=a.sports_teams)==null?void 0:x.sport}),s.jsx("span",{className:"match-date",children:new Date(a.match_date).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"})})]}),s.jsxs("div",{className:"teams-display",children:[s.jsxs("div",{className:"team-home",children:[s.jsx("div",{className:"team-logo-placeholder",children:"BHS"}),s.jsx("span",{className:"team-name",children:(p=a.sports_teams)==null?void 0:p.name})]}),s.jsx("div",{className:"vs-badge",children:"VS"}),s.jsxs("div",{className:"team-away",children:[s.jsx("div",{className:"team-logo-placeholder opponent",children:a.opponent.charAt(0)}),s.jsx("span",{className:"team-name",children:a.opponent})]})]}),s.jsxs("div",{className:"match-location",children:[s.jsx(M,{size:16})," ",a.location||"Home Ground",s.jsx("span",{className:"time-separator",children:"â€¢"}),s.jsx(b,{size:16})," ",new Date(a.match_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}):s.jsx("div",{className:"no-match",children:s.jsx("p",{children:"No scheduled matches available."})})]}),s.jsxs("div",{className:"latest-results-card",children:[s.jsx("h3",{children:"Latest Results"}),s.jsxs("div",{className:"results-list",children:[o.filter(e=>e.status==="completed"||e.home_score!==null).slice(0,4).map(e=>{var t,l;return s.jsxs("div",{className:"result-item",children:[s.jsxs("div",{className:"result-info",children:[s.jsx("span",{className:"sport-sm",children:(t=e.sports_teams)==null?void 0:t.sport}),s.jsx("span",{className:"date-sm",children:new Date(e.match_date).toLocaleDateString()})]}),s.jsxs("div",{className:"result-score",children:[s.jsx("span",{children:(l=e.sports_teams)==null?void 0:l.name}),s.jsxs("span",{className:"score-badge",children:[e.home_score," - ",e.away_score]}),s.jsx("span",{children:e.opponent})]})]},e.id)}),o.filter(e=>e.status==="completed").length===0&&s.jsx("p",{className:"text-muted",children:"No recent results."})]})]})]}),s.jsxs("div",{className:"teams-section section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{children:"Our Teams"}),s.jsx("p",{children:"Meet the athletes representing Bugisu High School."})]}),s.jsx("div",{className:"teams-grid",children:j.map(e=>s.jsxs("div",{className:"team-card-public",onClick:()=>f(e),children:[s.jsxs("div",{className:"card-image-wrapper",children:[e.image_url?s.jsx("img",{src:e.image_url,alt:e.name}):s.jsx("div",{className:"placeholder-team-img",children:s.jsx(k,{size:48,opacity:.5})}),s.jsx("div",{className:"sport-overlay",children:e.sport})]}),s.jsxs("div",{className:"card-content",children:[s.jsx("h3",{children:e.name}),s.jsxs("p",{className:"coach",children:["Coach: ",e.coach_name||"TBA"]}),s.jsx("div",{className:"card-footer",children:s.jsxs("span",{className:"view-roster",children:["View Roster ",s.jsx(D,{size:16})]})})]})]},e.id))})]})]}),i&&s.jsx("div",{className:"modal-overlay",onClick:()=>r(null),children:s.jsxs("div",{className:"modal-content roster-modal",onClick:e=>e.stopPropagation(),children:[s.jsx("button",{className:"close-btn",onClick:()=>r(null),children:s.jsx(C,{size:24})}),s.jsxs("div",{className:"roster-header",children:[s.jsx("h2",{children:i.name}),s.jsx("span",{className:"badge",children:i.sport})]}),s.jsx("p",{className:"team-desc",children:i.description||"No description available for this team."}),s.jsx("h3",{children:"Team Roster"}),y?s.jsx("div",{className:"loading-spinner",children:"Loading players..."}):m.length>0?s.jsx("div",{className:"roster-list",children:m.map(e=>s.jsxs("div",{className:"player-card",children:[s.jsx("div",{className:"player-avatar",children:e.photo_url?s.jsx("img",{src:e.photo_url,alt:e.name}):s.jsx("div",{className:"avatar-placeholder",children:e.name.charAt(0)})}),s.jsxs("div",{className:"player-info",children:[s.jsx("h4",{children:e.name}),s.jsx("span",{className:"position",children:e.position||"Player"})]}),e.jersey_number&&s.jsxs("div",{className:"jersey-number",children:[s.jsx(R,{size:12})," ",e.jersey_number]})]},e.id))}):s.jsx("p",{className:"text-muted",children:"No players listed in roster yet."})]})})]})};export{B as default};
