import{u as f,r as d,j as e,s as g}from"./index-EH-KDdP-.js";import{c as j}from"./cache-BThuL7vy.js";import{S as N}from"./SEO-DtVSemPV.js";import{U as b}from"./UniversalHero-BnkIybS5.js";import{O as m}from"./OptimizedImage-CWDuI0t_.js";import{T as p}from"./ThreeDCarousel-DopmukYz.js";import"./useQueries-CzAEryra.js";import"./chevron-left-GT57DOTz.js";import"./index-CAtil0is.js";const A=()=>{const{t:a}=f(["about","common"]),[n,h]=d.useState([]),[l,u]=d.useState([]),[x,o]=d.useState(!0),[t,v]=d.useState(null);return d.useEffect(()=>{(async()=>{try{const i=j.get("about_page_data");if(i){h(i.administration),u(i.teachers),o(!1);return}o(!0);const[r,c]=await Promise.all([g.from("administration").select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0}),g.from("teachers").select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0})]);r.data&&h(r.data),c.data&&u(c.data),j.set("about_page_data",{administration:r.data||[],teachers:c.data||[]})}catch(i){console.error("Error fetching data:",i)}finally{o(!1)}})()},[]),d.useEffect(()=>{if(n.length===0&&l.length===0)return;const s=new IntersectionObserver(r=>{r.forEach(c=>{c.isIntersecting&&v(c.target.getAttribute("data-id"))})},{threshold:.7,rootMargin:"-10% 0px -10% 0px"});return document.querySelectorAll(".leader-card, .about-card, .value-item, .teacher-card").forEach(r=>s.observe(r)),()=>s.disconnect()},[n,l]),e.jsxs("div",{className:"about-page",children:[e.jsx(N,{title:a("nav.about"),description:"Discover the heritage, mission, and leadership of Bugisu High School. Founded on principles of Excellence, Integrity, and Service to nurture the leaders of tomorrow in Mbale, Uganda.",url:"/about"}),e.jsx(b,{pagePath:"/about",height:"50vh",children:e.jsxs("div",{className:"center-hero",children:[e.jsxs("h1",{children:[e.jsx("span",{className:"desktop-title",children:a("hero_title")}),e.jsx("span",{className:"mobile-title",children:a("hero_title_mobile")})]}),e.jsx("p",{className:"lead",children:a("hero_desc")})]})}),e.jsxs("div",{className:"container",children:[e.jsx("section",{className:"about-section",children:e.jsxs("div",{className:"history-split",children:[e.jsxs("div",{className:"history-text",children:[e.jsxs("div",{className:"about-section-header",children:[e.jsx("h2",{children:a("foundation_title")}),e.jsx("p",{children:a("foundation_desc")})]}),e.jsx("div",{className:"history-content",children:e.jsx("p",{children:a("history_text")})})]}),e.jsx("div",{className:"history-image-container",children:e.jsx(m,{src:"/images/students/infra.jpeg",alt:"Our Campus",aspectRatio:"4/3"})})]})}),e.jsxs("section",{className:"about-section",children:[e.jsxs("div",{className:"about-grid",children:[e.jsxs("div",{className:`about-card ${t==="mission"?"focused":""}`,"data-id":"mission",children:[e.jsx("div",{className:"card-image-mini",children:e.jsx(m,{src:"/images/students/stu.jpeg",alt:"Mission",aspectRatio:"16/9"})}),e.jsx("h3",{children:a("mission_title")}),e.jsx("p",{children:a("mission_desc")})]}),e.jsxs("div",{className:`about-card ${t==="vision"?"focused":""}`,"data-id":"vision",children:[e.jsx("div",{className:"card-image-mini",children:e.jsx(m,{src:"/images/students/girl.jpeg",alt:"Vision",aspectRatio:"16/9"})}),e.jsx("h3",{children:a("vision_title")}),e.jsx("p",{children:a("vision_desc")})]})]}),e.jsxs("div",{className:"values-section",children:[e.jsx("h3",{children:a("values_title")}),e.jsxs("div",{className:"values-list",children:[e.jsxs("div",{className:`value-item ${t==="v-excellence"?"focused":""}`,"data-id":"v-excellence",children:[e.jsx("h4",{children:a("values.excellence_title")}),e.jsx("p",{children:a("values.excellence_desc")})]}),e.jsxs("div",{className:`value-item ${t==="v-integrity"?"focused":""}`,"data-id":"v-integrity",children:[e.jsx("h4",{children:a("values.integrity_title")}),e.jsx("p",{children:a("values.integrity_desc")})]}),e.jsxs("div",{className:`value-item ${t==="v-discipline"?"focused":""}`,"data-id":"v-discipline",children:[e.jsx("h4",{children:a("values.discipline_title")}),e.jsx("p",{children:a("values.discipline_desc")})]}),e.jsxs("div",{className:`value-item ${t==="v-community"?"focused":""}`,"data-id":"v-community",children:[e.jsx("h4",{children:a("values.community_title")}),e.jsx("p",{children:a("values.community_desc")})]})]})]})]}),e.jsxs("section",{className:"about-section",children:[e.jsxs("div",{className:"about-section-header",children:[e.jsx("h2",{children:a("leadership_title")}),e.jsx("p",{children:a("leadership_desc")})]}),x?e.jsx("div",{className:"leadership-grid",children:Array(3).fill(0).map((s,i)=>e.jsx("div",{className:"skeleton-card",style:{height:"300px",background:"#f3f4f6",borderRadius:"12px"}},i))}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"leadership-grid desktop-only-grid",children:n.map(s=>e.jsxs("div",{className:`leader-card ${t===s.id.toString()?"focused":""}`,"data-id":s.id,children:[e.jsx("span",{className:"leader-role",children:s.role}),e.jsx("h3",{children:s.name}),s.image_url?e.jsx("img",{src:s.image_url,alt:s.name,loading:"lazy",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"8px",marginBottom:"1rem"},onError:i=>{i.target.src="https://images.unsplash.com/photo-1544531696-2822a09966ce?auto=format&fit=crop&q=80&w=400"}}):e.jsx("div",{style:{width:"100%",height:"200px",background:"#f3f4f6",borderRadius:"8px",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:a("common.no_image")||"No Image"}),e.jsx("p",{className:"leader-bio",children:"Dedicated to academic excellence and nurturing the future leaders of Uganda through holistic education and strong moral values."})]},s.id))}),e.jsx("div",{className:"mobile-only-carousel",children:e.jsx(p,{items:n.map(s=>e.jsxs("div",{className:`leader-card ${t===s.id.toString()?"focused":""}`,"data-id":s.id,style:{margin:0,height:"100%"},children:[e.jsx("span",{className:"leader-role",children:s.role}),e.jsx("h3",{children:s.name}),s.image_url?e.jsx("img",{src:s.image_url,alt:s.name,loading:"lazy",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"8px",marginBottom:"1rem"},onError:i=>{i.target.src="https://images.unsplash.com/photo-1544531696-2822a09966ce?auto=format&fit=crop&q=80&w=400"}}):e.jsx("div",{style:{width:"100%",height:"200px",background:"#f3f4f6",borderRadius:"8px",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:a("common.no_image")||"No Image"}),e.jsx("p",{className:"leader-bio",children:"Dedicated to academic excellence."})]},s.id))})})]})]}),e.jsxs("section",{className:"about-section mt-16",children:[e.jsxs("div",{className:"about-section-header",children:[e.jsx("h2",{children:a("team_title")}),e.jsx("p",{children:a("team_desc")})]}),x?e.jsx("div",{className:"teachers-grid",children:Array(4).fill(0).map((s,i)=>e.jsx("div",{className:"skeleton-card",style:{height:"350px",background:"#f3f4f6",borderRadius:"12px"}},i))}):l.length===0?e.jsx("p",{className:"empty-text",children:a("teachers_coming_soon")}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"teachers-grid desktop-only-grid",children:l.map(s=>e.jsxs("div",{className:"teacher-card","data-id":s.id,children:[e.jsx("div",{className:"teacher-image-container",children:e.jsx("img",{src:s.image_url,alt:s.name,loading:"lazy",onError:i=>{i.target.src="https://images.unsplash.com/photo-1544531696-2822a09966ce?auto=format&fit=crop&q=80&w=400"}})}),e.jsxs("div",{className:"teacher-info",children:[e.jsx("h3",{children:s.name}),e.jsx("p",{className:"teacher-subject",children:s.subject})]})]},s.id))}),e.jsx("div",{className:"mobile-only-carousel",children:e.jsx(p,{items:l.map(s=>e.jsxs("div",{className:"teacher-card","data-id":s.id,style:{margin:0,height:"100%"},children:[e.jsx("div",{className:"teacher-image-container",children:e.jsx("img",{src:s.image_url,alt:s.name,loading:"lazy",onError:i=>{i.target.src="https://images.unsplash.com/photo-1544531696-2822a09966ce?auto=format&fit=crop&q=80&w=400"}})}),e.jsxs("div",{className:"teacher-info",children:[e.jsx("h3",{children:s.name}),e.jsx("p",{className:"teacher-subject",children:s.subject})]})]},s.id))})})]})]})]})]})};export{A as default};
