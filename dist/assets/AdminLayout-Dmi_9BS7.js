import{c as v,H as A,N as w,R as r,j as a,F as p,f as S,Q as L,U as l,a2 as m,a3 as M,M as j,B as C,g as q,J as u,X as $,L as e,r as B,a4 as H,s as o}from"./index-BwtYp3Ig.js";/* empty css                    */import{M as D}from"./megaphone-Bcz04vCF.js";import{S as E}from"./shield-D9yMtpTS.js";import{D as F}from"./dollar-sign-BHJYt2oZ.js";import{A as h}from"./activity-Ms-EpHjB.js";import{M as I}from"./mail-BDU_MMEc.js";import{A as O}from"./award-COrM1c8p.js";import{M as R}from"./map-CL1zmDPN.js";import{L as T}from"./log-out-Beoi4E0B.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=v("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=v("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),Z=()=>{const g=A(),i=w(),[c,x]=r.useState(!0),[n,N]=r.useState({admissions:0,contact:0});r.useEffect(()=>{const t=async()=>{try{const[d,f,k]=await Promise.all([o.from("contact_messages").select("*",{count:"exact",head:!0}).eq("status","Unread"),o.from("admission_applications").select("*",{count:"exact",head:!0}).eq("status","pending"),o.from("admissions_inquiries").select("*",{count:"exact",head:!0}).eq("status","pending")]);N({contact:d.count||0,admissions:(f.count||0)+(k.count||0)})}catch(d){console.error("Error fetching admin counts:",d)}};t();const s=setInterval(t,3e4);return()=>clearInterval(s)},[]);const y=async()=>{await o.auth.signOut(),g("/admin/login")},z=[{title:"General",items:[{icon:a.jsx(b,{size:20}),label:"Dashboard",path:"/admin/dashboard"}]},{title:"Media & Communications",items:[{icon:a.jsx(p,{size:20}),label:"News",path:"/admin/news"},{icon:a.jsx(D,{size:20}),label:"Announcements",path:"/admin/announcements"},{icon:a.jsx(S,{size:20}),label:"Galleries",path:"/admin/gallery"},{icon:a.jsx(L,{size:20}),label:"Hero Section",path:"/admin/hero"},{icon:a.jsx(l,{size:20}),label:"Events",path:"/admin/events"},{icon:a.jsx(E,{size:20}),label:"Sports",path:"/admin/sports"}]},{title:"Administration",items:[{icon:a.jsx(W,{size:20}),label:"Administration",path:"/admin/administration"},{icon:a.jsx(l,{size:20}),label:"Admissions",path:"/admin/admissions",badge:n.admissions},{icon:a.jsx(F,{size:20}),label:"Finance & Fees",path:"/admin/finance"},{icon:a.jsx(m,{size:20}),label:"Contact",path:"/admin/contact",badge:n.contact},{icon:a.jsx(M,{size:20}),label:"Feedback",path:"/admin/feedback"},{icon:a.jsx(j,{size:20}),label:"Live Chat",path:"/admin/chat"},{icon:a.jsx(C,{size:20}),label:"Site Alerts",path:"/admin/alerts"},{icon:a.jsx(h,{size:20}),label:"Activity",path:"/admin/activity"}]},{title:"Faculty & Teachers",items:[{icon:a.jsx(l,{size:20}),label:"Teachers",path:"/admin/teachers"},{icon:a.jsx(q,{size:20}),label:"Leave Requests",path:"/admin/leave-requests"},{icon:a.jsx(I,{size:20}),label:"Parent Emails",path:"/admin/parent-emails"}]},{title:"Academic Resources",items:[{icon:a.jsx(u,{size:20}),label:"Academics",path:"/admin/academics"},{icon:a.jsx(u,{size:20}),label:"Resources",path:"/admin/resources"},{icon:a.jsx(l,{size:20}),label:"Students",path:"/admin/students"},{icon:a.jsx(O,{size:20}),label:"Achievements",path:"/admin/achievements"},{icon:a.jsx(R,{size:20}),label:"Virtual Tour",path:"/admin/tour"}]}];return a.jsxs("div",{className:"admin-layout",children:[a.jsxs("header",{className:"admin-mobile-header",children:[a.jsxs("div",{className:"mobile-branding",children:[a.jsx("img",{src:"/logo.png?v=2",alt:"BHS Logo",className:"mobile-logo"}),a.jsxs("div",{className:"mobile-titles",children:[a.jsx("h1",{children:"Bugisu High School"}),a.jsx("span",{children:"Admin Portal"})]})]}),a.jsx("button",{className:"mobile-menu-trigger",onClick:()=>x(!c),children:c?a.jsx($,{size:24}):a.jsx(m,{size:24})})]}),a.jsxs("aside",{className:`admin-sidebar ${c?"open":"closed"}`,children:[a.jsx("div",{className:"sidebar-header",children:a.jsxs("div",{className:"sidebar-branding",children:[a.jsx("img",{src:"/logo.png?v=2",alt:"Logo",className:"sidebar-logo"}),a.jsx("h2",{children:"Admin Portal"})]})}),a.jsx("nav",{className:"admin-nav",children:z.map(t=>a.jsxs("div",{className:"nav-group",children:[a.jsx("h3",{className:"nav-group-title",children:t.title}),t.items.map(s=>a.jsxs(e,{to:s.path,className:`admin-nav-link ${i.pathname.startsWith(s.path)?"active":""}`,children:[s.icon," ",s.label,s.badge>0&&a.jsx("span",{className:"nav-badge",children:s.badge})]},s.path))]},t.title))}),a.jsx("div",{className:"sidebar-footer",children:a.jsxs("button",{onClick:y,className:"logout-btn",children:[a.jsx(T,{size:20})," Logout"]})})]}),a.jsxs("main",{className:"admin-main",children:[a.jsxs("header",{className:"admin-topbar",children:[a.jsx("button",{className:"menu-trigger",onClick:()=>x(!c),children:a.jsx(m,{size:24})}),a.jsxs("div",{className:"user-info",children:[a.jsxs(e,{to:"/admin/activity",style:{display:"flex",alignItems:"center",gap:"8px",color:"inherit",textDecoration:"none"},children:[a.jsx(h,{size:18}),a.jsx("span",{children:"Activity"})]}),a.jsx("span",{children:"Administrator"}),a.jsx("div",{className:"avatar",children:"A"})]})]}),a.jsx("div",{className:"admin-content",children:a.jsx(B.Suspense,{fallback:a.jsx("div",{className:"content-loader"}),children:a.jsx(H,{})})})]}),a.jsxs("nav",{className:`admin-mobile-nav ${c?"hidden":""}`,children:[a.jsxs(e,{to:"/admin/dashboard",className:`mobile-nav-link ${i.pathname==="/admin/dashboard"?"active":""}`,children:[a.jsx(b,{size:22}),a.jsx("span",{children:"Home"})]}),a.jsxs(e,{to:"/admin/news",className:`mobile-nav-link ${i.pathname.startsWith("/admin/news")?"active":""}`,children:[a.jsx(p,{size:22}),a.jsx("span",{children:"News"})]}),a.jsxs(e,{to:"/admin/activity",className:`mobile-nav-link ${i.pathname.startsWith("/admin/activity")?"active":""}`,children:[a.jsx(h,{size:22}),a.jsx("span",{children:"Activity"})]}),a.jsxs(e,{to:"/admin/admissions",className:`mobile-nav-link ${i.pathname.startsWith("/admin/admissions")?"active":""}`,children:[a.jsxs("div",{className:"mobile-nav-icon-wrapper",children:[a.jsx(l,{size:22}),n.admissions>0&&a.jsx("span",{className:"mobile-badgeBadge",children:n.admissions})]}),a.jsx("span",{children:"Admissions"})]}),a.jsxs(e,{to:"/admin/contact",className:`mobile-nav-link ${i.pathname.startsWith("/admin/contact")?"active":""}`,children:[a.jsxs("div",{className:"mobile-nav-icon-wrapper",children:[a.jsx(j,{size:22}),n.contact>0&&a.jsx("span",{className:"mobile-badgeBadge",children:n.contact})]}),a.jsx("span",{children:"Contact"})]})]})]})};export{Z as default};
