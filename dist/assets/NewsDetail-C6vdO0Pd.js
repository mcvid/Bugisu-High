import{c as j,d as p,r as t,j as e,L as d,C as N,e as g,s as w}from"./index-DqW8wV2_.js";import{S as y}from"./SEO-DC-IPnvi.js";import{S as a}from"./Skeleton-DZ5L3caZ.js";import{A as i}from"./arrow-left-J1rdd-IM.js";import{U as f}from"./user-CyrY-TM7.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=j("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),A=()=>{var o;const{slug:c}=p(),[s,x]=t.useState(null),[h,l]=t.useState(!0),[n,u]=t.useState(null);return t.useEffect(()=>{(async()=>{try{l(!0);const{data:r,error:m}=await w.from("news").select("*").eq("slug",c).single();if(m)throw m;x(r)}catch(r){console.error("Error fetching news detail:",r),u("Article not found.")}finally{l(!1)}})()},[c]),h?e.jsxs("div",{className:"section container",children:[e.jsxs("div",{className:"back-link mb-4",children:[e.jsx(i,{size:18})," Back to All News"]}),e.jsxs("article",{className:"news-article",children:[e.jsx(a,{type:"title"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem"},children:[e.jsx("div",{style:{width:"100px",height:"1.25rem",backgroundColor:"#e2e8f0",borderRadius:"4px"},className:"shimmer"}),e.jsx("div",{style:{width:"120px",height:"1.25rem",backgroundColor:"#e2e8f0",borderRadius:"4px"},className:"shimmer"})]}),e.jsx(a,{type:"rect",className:"mb-8"}),e.jsx(a,{type:"text",count:5})]})]}):n||!s?e.jsxs("div",{className:"section container text-center",children:[e.jsx("h2",{children:n||"Article not found"}),e.jsxs(d,{to:"/news",className:"btn btn-primary mt-4",children:[e.jsx(i,{size:18})," Back to News"]})]}):e.jsxs("div",{className:"news-detail-page section",children:[e.jsx(y,{title:s.title,description:s.excerpt||((o=s.content)==null?void 0:o.substring(0,160).replace(/<[^>]*>?/gm,"")),image:s.image_url,article:!0,url:`/news/${s.slug}`}),e.jsxs("div",{className:"container",children:[e.jsxs(d,{to:"/news",className:"back-link mb-4",children:[e.jsx(i,{size:18})," Back to All News"]}),e.jsxs("article",{className:"news-article",children:[e.jsxs("header",{className:"article-header",children:[e.jsxs("div",{className:"article-meta",children:[e.jsxs("span",{className:"meta-item",children:[e.jsx(N,{size:16}),new Date(s.published_at||s.created_at).toLocaleDateString()]}),s.author&&e.jsxs("span",{className:"meta-item",children:[e.jsx(f,{size:16}),s.author]}),e.jsxs("button",{className:"share-article-btn",onClick:()=>g({title:s.title,text:s.excerpt||s.title,url:window.location.href}),children:[e.jsx(k,{size:16})," Share"]})]}),e.jsx("h1",{className:"article-title",children:s.title}),s.excerpt&&e.jsx("p",{className:"article-excerpt",children:s.excerpt})]}),s.image_url&&e.jsx("div",{className:"article-image",children:e.jsx("img",{src:s.image_url,alt:s.title})}),e.jsx("div",{className:"article-content",dangerouslySetInnerHTML:{__html:s.content}})]})]})]})};export{A as default};
