import{c as v,h as A,l as S,R as r,j as s,F as x,f as w,n as L,U as l,D as m,T as M,M as p,B as C,g as q,i as j,X as B,L as n,r as D,O,s as o}from"./index-EH-KDdP-.js";/* empty css                    */import{M as $}from"./megaphone-qmqeFknm.js";import{S as E}from"./shield-DAAziaHH.js";import{D as F}from"./dollar-sign-Bwdk2lfY.js";import{A as u}from"./activity-bI2-LtTs.js";import{M as H}from"./mail-kSsI-FuV.js";import{A as I}from"./award-BqB3_R12.js";import{M as R}from"./map-Con-U0bW.js";import{L as T}from"./log-out-BqUaIINm.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=v("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=v("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),Z=()=>{const g=A(),t=S(),[c,h]=r.useState(!0),[e,y]=r.useState({admissions:0,contact:0});r.useEffect(()=>{const i=async()=>{try{const[d,f,k]=await Promise.all([o.from("contact_messages").select("*",{count:"exact",head:!0}).eq("status","Unread"),o.from("admission_applications").select("*",{count:"exact",head:!0}).eq("status","pending"),o.from("admissions_inquiries").select("*",{count:"exact",head:!0}).eq("status","pending")]);y({contact:d.count||0,admissions:(f.count||0)+(k.count||0)})}catch(d){console.error("Error fetching admin counts:",d)}};i();const a=setInterval(i,3e4);return()=>clearInterval(a)},[]);const N=async()=>{await o.auth.signOut(),g("/admin/login")},z=[{title:"General",items:[{icon:s.jsx(b,{size:20}),label:"Dashboard",path:"/admin/dashboard"}]},{title:"Media & Communications",items:[{icon:s.jsx(x,{size:20}),label:"News",path:"/admin/news"},{icon:s.jsx($,{size:20}),label:"Announcements",path:"/admin/announcements"},{icon:s.jsx(w,{size:20}),label:"Galleries",path:"/admin/gallery"},{icon:s.jsx(L,{size:20}),label:"Hero Section",path:"/admin/hero"},{icon:s.jsx(l,{size:20}),label:"Events",path:"/admin/events"},{icon:s.jsx(E,{size:20}),label:"Sports",path:"/admin/sports"}]},{title:"Administration",items:[{icon:s.jsx(P,{size:20}),label:"Administration",path:"/admin/administration"},{icon:s.jsx(l,{size:20}),label:"Admissions",path:"/admin/admissions",badge:e.admissions},{icon:s.jsx(F,{size:20}),label:"Finance & Fees",path:"/admin/finance"},{icon:s.jsx(m,{size:20}),label:"Contact",path:"/admin/contact",badge:e.contact},{icon:s.jsx(M,{size:20}),label:"Feedback",path:"/admin/feedback"},{icon:s.jsx(p,{size:20}),label:"Live Chat",path:"/admin/chat"},{icon:s.jsx(C,{size:20}),label:"Site Alerts",path:"/admin/alerts"},{icon:s.jsx(u,{size:20}),label:"Activity",path:"/admin/activity"}]},{title:"Faculty & Teachers",items:[{icon:s.jsx(l,{size:20}),label:"Teachers",path:"/admin/teachers"},{icon:s.jsx(q,{size:20}),label:"Leave Requests",path:"/admin/leave-requests"},{icon:s.jsx(H,{size:20}),label:"Parent Emails",path:"/admin/parent-emails"}]},{title:"Academic Resources",items:[{icon:s.jsx(j,{size:20}),label:"Academics",path:"/admin/academics"},{icon:s.jsx(j,{size:20}),label:"Resources",path:"/admin/resources"},{icon:s.jsx(l,{size:20}),label:"Students",path:"/admin/students"},{icon:s.jsx(I,{size:20}),label:"Achievements",path:"/admin/achievements"},{icon:s.jsx(R,{size:20}),label:"Virtual Tour",path:"/admin/tour"}]}];return s.jsxs("div",{className:"admin-layout",children:[s.jsxs("header",{className:"admin-mobile-header",children:[s.jsxs("div",{className:"mobile-branding",children:[s.jsx("img",{src:"/logo.png?v=2",alt:"BHS Logo",className:"mobile-logo"}),s.jsxs("div",{className:"mobile-titles",children:[s.jsx("h1",{children:"Bugisu High School"}),s.jsx("span",{children:"Admin Portal"})]})]}),s.jsx("button",{className:"mobile-menu-trigger",onClick:()=>h(!c),children:c?s.jsx(B,{size:24}):s.jsx(m,{size:24})})]}),s.jsxs("aside",{className:`admin-sidebar ${c?"open":"closed"}`,children:[s.jsx("div",{className:"sidebar-header",children:s.jsxs("div",{className:"sidebar-branding",children:[s.jsx("img",{src:"/logo.png?v=2",alt:"Logo",className:"sidebar-logo"}),s.jsx("h2",{children:"Admin Portal"})]})}),s.jsx("nav",{className:"admin-nav",children:z.map(i=>s.jsxs("div",{className:"nav-group",children:[s.jsx("h3",{className:"nav-group-title",children:i.title}),i.items.map(a=>s.jsxs(n,{to:a.path,className:`admin-nav-link ${t.pathname.startsWith(a.path)?"active":""}`,children:[a.icon," ",s.jsx("span",{children:a.label}),a.badge>0&&s.jsx("span",{className:"nav-badge",children:a.badge})]},a.path))]},i.title))}),s.jsx("div",{className:"sidebar-footer",children:s.jsxs("button",{onClick:N,className:"logout-btn",children:[s.jsx(T,{size:20})," ",s.jsx("span",{children:"Logout"})]})})]}),s.jsxs("main",{className:"admin-main",children:[s.jsxs("header",{className:"admin-topbar",children:[s.jsx("button",{className:"menu-trigger",onClick:()=>h(!c),children:s.jsx(m,{size:24})}),s.jsxs("div",{className:"user-info",children:[s.jsxs(n,{to:"/admin/activity",style:{display:"flex",alignItems:"center",gap:"8px",color:"inherit",textDecoration:"none"},children:[s.jsx(u,{size:18}),s.jsx("span",{children:"Activity"})]}),s.jsx("span",{children:"Administrator"}),s.jsx("div",{className:"avatar",children:"A"})]})]}),s.jsx("div",{className:"admin-content",children:s.jsx(D.Suspense,{fallback:s.jsx("div",{className:"content-loader"}),children:s.jsx(O,{})})})]}),s.jsxs("nav",{className:`admin-mobile-nav ${c?"hidden":""}`,children:[s.jsxs(n,{to:"/admin/dashboard",className:`mobile-nav-link ${t.pathname==="/admin/dashboard"?"active":""}`,children:[s.jsx(b,{size:26}),s.jsx("span",{children:"Home"})]}),s.jsxs(n,{to:"/admin/news",className:`mobile-nav-link ${t.pathname.startsWith("/admin/news")?"active":""}`,children:[s.jsx(x,{size:26}),s.jsx("span",{children:"News"})]}),s.jsxs(n,{to:"/admin/admissions",className:`mobile-nav-link ${t.pathname.startsWith("/admin/admissions")?"active":""}`,children:[s.jsxs("div",{style:{position:"relative"},children:[s.jsx(l,{size:26}),e.admissions>0&&s.jsx("span",{className:"mobile-badgeBadge",children:e.admissions})]}),s.jsx("span",{children:"Admissions"})]}),s.jsxs(n,{to:"/admin/contact",className:`mobile-nav-link ${t.pathname.startsWith("/admin/contact")?"active":""}`,children:[s.jsxs("div",{style:{position:"relative"},children:[s.jsx(p,{size:26}),e.contact>0&&s.jsx("span",{className:"mobile-badgeBadge",children:e.contact})]}),s.jsx("span",{children:"Contact"})]})]})]})};export{Z as default};
